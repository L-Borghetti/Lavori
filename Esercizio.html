<!doctype html>
<html lang="it">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Scheda Studente</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Inserisci i dati dello studente</h1>
    
    <div class="grid">
        <div>
            <label for="nome">Nome</label>
            <input id="nome" name="nome" type="text" placeholder="Es. Luca" autocomplete="given-name" />
        </div>

        <div>
            <label for="cognome">Cognome</label>
            <input id="cognome" name="cognome" type="text" placeholder="Es. Bianchi" autocomplete="family-name" />
        </div>

        <div style="grid-column:1 / -1">
            <label for="scuola">Istituto</label>
            <input id="scuola" name="scuola" type="text" placeholder="Es. Liceo Galilei" />
        </div>

        <div>
            <label for="classe">Classe</label>
            <input id="classe" name="classe" type="text" placeholder="Es. 3B" />
        </div>

        <div>
            <label for="dataNascita">Data di nascita</label>
            <input id="dataNascita" name="dataNascita" type="date" />
        </div>

        <div style="grid-column:1 / -1">
            <label for="note">Note (opzionale)</label>
            <textarea id="note" name="note" placeholder="Eventuali osservazioni"></textarea>
        </div>
    </div>

    <div class="row" style="margin-top:12px">
        <button type="button" id="salvaBtn">Salva scheda</button>
    </div>

    <div id="outputNomDiv" class="outputDiv" aria-live="polite">
        <div class="small">Nome: <span id="outputNom" class="label-pill">—</span></div>
    </div>

    <div id="outputCognDiv" class="outputDiv" aria-live="polite">
        <div class="small">Cognome: <span id="outputCogn" class="label-pill">—</span></div>
    </div>

    <div id="outputScuDiv" class="outputDiv" aria-live="polite">
        <div class="small">Istituto: <span id="outputScu" class="label-pill">—</span></div>
    </div>

    <div id="outputClaDiv" class="outputDiv" aria-live="polite">
        <div class="small">Classe: <span id="outputCla" class="label-pill">—</span></div>
    </div>

    <div id="outputEtaDiv" class="outputDiv" aria-live="polite">
        <div class="small">Età stimata: <span id="outputEta" class="label-pill">—</span></div>
    </div>

    <div id="outputCategDiv" class="outputDiv" aria-live="polite">
        <div class="small">Categoria: <span id="outputCateg" class="label-pill">—</span></div>
    </div>

    <script>
        const button = document.getElementById("salvaBtn");
        button.addEventListener("click", () => {

            const outputNom = document.getElementById("outputNom");
            const outputCogn = document.getElementById("outputCogn");
            const outputScu = document.getElementById("outputScu");
            const outputCla = document.getElementById("outputCla");
            const outputEta = document.getElementById("outputEta");
            const outputCateg = document.getElementById("outputCateg");

            const nome = document.getElementById("nome").value;
            outputNom.innerHTML = nome;
            const cognome = document.getElementById("cognome").value;
            outputCogn.innerHTML = cognome;
            const scuola = document.getElementById("scuola").value;
            outputScu.innerHTML = scuola;
            const classe = document.getElementById("classe").value;
            outputCla.innerHTML = classe;

            const data = document.getElementById("dataNascita").value;
            const anno = data ? parseInt(data.slice(0,4), 10) : null;

            if (anno == null || anno < 1900) {
                outputEta.innerHTML = "—";
                outputCateg.innerHTML = "non determinata";
                return;
            }

            const oggi = new Date().getFullYear();
            const eta = oggi - anno;
            outputEta.innerHTML = eta;

            if (eta < 11) {
                outputCateg.innerHTML = "Scuola primaria";
            } else if (eta <= 13) {
                outputCateg.innerHTML = "Scuola secondaria di I grado";
            } else if (eta <= 18) {
                outputCateg.innerHTML = "Scuola secondaria di II grado";
            } else {
                outputCateg.innerHTML = "Università / Formazione superiore";
            }
        });
    </script>
</body>
</html>
